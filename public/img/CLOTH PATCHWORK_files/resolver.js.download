(function(){"use strict";let c;function u(s){c=s}function p(){return c}class d{constructor(t,e){this.name=t,this._importMap=e,this._rootUrls=new Set}addRootUrl(t){this._rootUrls.add(t)}updateImportMap(t){this._importMap=Object.assign({},this._importMap,t)}canResolve(t,e){return this._importMap[t]!==void 0?this._rootUrls.has(e)?!0:Object.values(this._importMap).some(n=>n.url===e):!1}resolve(t){var e;return(e=this._importMap[t])==null?void 0:e.url}}let l=[];function a(s,t){return t===void 0?l.find(e=>e.name===s):l.find(e=>e.canResolve(s,t))}function m(s,t){let e=a(s);e?e.updateImportMap(t):(e=new d(s,t),l.push(e))}function h(s){const t=s.getRegister;function e(n){const i=p();if(!i)return t.call(this,n);const o=a(i.name);return o&&o.addRootUrl(n),t.call(this,n)}s.getRegister=e}function v(s){const t=s.register;function e(n,i,o,r){return typeof n!="string"?(u(void 0),t.apply(this,arguments)):(r&&m(n,r),u({name:n,declare:o,dependencies:i,importMap:r}),t.apply(this,arguments))}s.register=e}function g(s){const t=s.resolve;function e(n,i){var o;const r=a(n,i);return r?(o=r.resolve(n))!=null?o:t.call(this,n,i):t.call(this,n,i)}s.resolve=e}h(window.System),v(window.System),g(window.System)})();
